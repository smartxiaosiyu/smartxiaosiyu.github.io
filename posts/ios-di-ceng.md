---
title: 'iOS 底层'
date: 2021-12-05 16:12:26
tags: []
published: true
hideInList: false
feature: 
isTop: false
---
### 加壳
从AppStore下载的App，会被加密
利用特殊的算法，对我们可执行文件的编码进行改变

壳程序里面有（可执行文件（已加密））———> 执行到———>内存中（壳程序里面有（可执行文件（已加密）））———>解密 ———>内存中（壳程序里面有（可执行文件（解密）））

脱壳 
硬脱壳： 通过解密算法 从壳程序里解出可执行文件
动态脱壳：当壳程序执行到内存中解密出可执行文件 ，我们从内存中拿到解密后的可执行文件

### iOS签名机制
加密方法有两个
+ 对称密码 加密和解密用的同一个密钥
+  非对称密码（公钥密码）加密和解密用的密钥是不一样的
密钥 56bit

### 对称密码：
**DES ** 只能加密64bit的明文 已经被破解
**3DES** 3DES，将DES重复3次所得到的一种密码算法，也叫做3重DES 目前还被一些银行等机构使用，但处理速度不高，安全性逐渐暴露出问题
**AES** 取代DES成为新标准的一种对称密码算法 它经过了全世界密码学家所进行的高品质验证工作

### 如何解决密钥配送问题
有以下几种解决密钥配送的方法
+ 事先共享密钥
+ 密钥分配中心
+ Diffie-Hellman密钥交换

### 公钥密码
公钥密码中，密钥分为加密密钥、解密密钥2种，它们并不是同一个密钥
加密密钥，一般是公开的，因此该密钥称为公钥（public key）
解密密钥，由消息接收者自己保管的，不能公开，因此也称为私钥（private key）
公钥和私钥是一 一对应的，是不能单独生成的，一对公钥和密钥统称为密钥对（key pair）
由公钥加密的密文，必须使用与该公钥对应的私钥才能解密
由私钥加密的密文，必须使用与该私钥对应的公钥才能解密
![](https://smartxiaosiyu.github.io/post-images/1638709484493.png)
目前使用最广泛的公钥密码算法是RSA

### 解决密钥配送问题
由消息的接收者，生成一对公钥、私钥
将公钥发给消息的发送者
消息的发送者使用公钥加密消息

对称密码的缺点
不能很好地解决密钥配送问题

公钥密码的缺点
加密解密速度比较慢

混合密码系统，是将对称密码和公钥密码的优势相结合的方法
解决了公钥密码速度慢的问题
并通过公钥密码解决了对称密码的密钥配送问题

网络上的密码通信所用的SSL/TLS都运用了混合密码系统

### 混合密码-加密
![](https://smartxiaosiyu.github.io/post-images/1638710695280.png)
![](https://smartxiaosiyu.github.io/post-images/1638710701498.png)
